<div class="container bg-light ">
  <app-add-user (finish)="onAddCosed($event)" *ngIf="adding"></app-add-user>
  <app-delete-user
    [user]="userToDelete"
    (finish)="onDeleteClosed($event)"
    *ngIf="!!userToDelete"
  ></app-delete-user>
  <div class="row bg-primary p-3 align-items-center rounded" style="background-color: #0b8557 !important;">
    <p class="col-auto h5 text-white m-0 p-0 mr-2">User</p>
    <p class="col-auto  h4 font-weight-bold text-white m-0 p-0">Managment</p>
    <div class="col"></div>
    <div class="btn btn-light" (click)="onAddClicked()">
      <i class="fa fa-plus fa-1x  mr-1"></i>Add User
    </div>
  </div>
  <div class="row p-0 px-sm-4 bg-white justify-content-center">
    <app-loading *ngIf="loading" class="mt-4"> </app-loading>
    <table *ngIf="!loading" class=" table table-striped ">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">Date Created</th>
          <th scope="col">Role</th>
          <th scope="col">Status</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users; let i = index">
          <th scope="row " class="td-center font-weight-bold ">{{ i }}</th>
          <td class="td-center font-weight-bold">
            <img [src]="user.image" class="thumbnail rounded-circle mr-2 " />
            {{ user.name }}
          </td>
          <td class="td-center">{{ user.createdAt }}</td>
          <td class="td-center">{{ user.role }}</td>
          <td class="td-center">
            <span
              [ngClass]="[
                user.status.toLowerCase(),
                'circle',
                'rounded-circle',
                'mx-2'
              ]"
            ></span>
            <span [ngClass]="[user.status.toLowerCase(), 'status']">
              {{ user.status }}
            </span>
          </td>
          <td class="td-center">
            <i class="fa fa-cog  fa-1x m-2 text-primary"></i>
            <i
              class="fa fa-user-times fa-1x m-2 text-danger"
              (click)="openDeleteModal(user)"
            ></i>
          </td>
        </tr>
        <tr></tr>
      </tbody>
    </table>
  </div>
</div>
